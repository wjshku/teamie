## **1. 技术选型**

### **1.1 使用的框架、库、构建工具**

| **类型** | **技术选型** | **说明** |
| --- | --- | --- |
| 前端框架 | React 18 | 组件化开发，支持函数式组件和 Hooks，提高复用性 |
| 状态管理 | Zustand | 全局状态管理，适合多模块数据交互 |
| 路由 | React Router v6 | SPA 页面导航管理 |
| 样式 | TailwindCSS | 原子化样式 + 组件级样式封装 |
| UI 库 | shadcn/ui | 高可访问性组件库，方便快速搭建基础组件 |
| 构建工具 | Vite | 高速构建与热更新 |
| TypeScript | TypeScript 5 | 类型安全，提高开发可维护性 |
| 数据请求 | Axios | HTTP 请求封装 |
| 测试 | npm run dev | 简单本地测试 |

### **1.2 选择理由与适用场景**

- **React**：适合 Atomic Design 模型的组件化开发，可支持高度复用和组合。
- **TypeScript**：确保组件 props 类型安全，避免运行时错误。
- **Zustand**：轻量化管理跨组件状态，如用户信息、会议数据。
- **Vite + TailwindCSS**：快速开发、构建，同时保证样式一致性。
- **shadcn/ui**：提供可访问性高、易扩展的基础 UI 组件。
- **Axios**：封装 HTTP 请求，支持拦截器和统一异常处理。

---

## **2. 架构设计**

### **2.1 整体架构图（文字/ASCII）**

```
┌─────────────────────────────┐
│          Pages              │
│ HomePage, MeetingCreation   │
│ MeetingLobbyPage, Personal  │
└─────────────┬───────────────┘
              │
┌─────────────┴───────────────┐
│          Templates           │
│ HomeTemplate, MeetingLobby   │
│ MeetingCreationTemplate      │
└─────────────┬───────────────┘
              │
┌─────────────┴───────────────┐
│          Organisms           │
│ TopNavBar, QuickJoinSection  │
│ MeetingTemplateSection ...   │
└─────────────┬───────────────┘
              │
┌─────────────┴───────────────┐
│          Molecules           │
│ QuickJoinForm, NoteEditor    │
│ MeetingListItem ...          │
└─────────────┬───────────────┘
              │
┌─────────────┴───────────────┐
│           Atoms              │
│ Button, InputField, Label... │
└─────────────────────────────┘
```

### **2.2 模块关系图**

```
[HomePage] ──> [HomeTemplate] ──> [TopNavBar]
                                   └─> [QuickJoinSection] ──> [QuickJoinForm]
                                                             └─> [MeetingListItem]
```

### **2.3 状态管理方案**

- **全局状态**：使用 Zustand 管理用户信息、会议数据、通知列表。
- **局部状态**：Organisms 内部使用 useState/useReducer 管理模块级状态（如 NoteEditor 文本）。
- **表单状态**：Molecules 内部局部状态，如 QuickJoinForm 的输入值，通过 props 或 onSubmit 回调传递到上层。

### **2.4 数据流与组件通信方式**

- **父传子**：通过 props 向下传递数据和事件回调。
- **子传父**：通过事件回调函数（onChange、onSubmit）将数据上报父组件。
- **跨模块**：使用 Zustand 存储全局状态，组件订阅状态变化。
- **异步请求**：Axios 调用 API，数据填充状态管理或直接传入模板/组件。

---

## **3. 工程规范**

### **3.1 命名规范**

- **组件文件**：PascalCase（如 MeetingListItem.tsx）
- **Hooks**：useXxx（如 useMeetingData.ts）
- **变量/函数**：camelCase（如 fetchMeetingList）
- **常量**：UPPER_SNAKE_CASE（如 API_BASE_URL）
- **样式类**：kebab-case（如 top-nav-bar）

### **3.2 目录结构示例**

```
/src
  /components
    /atoms
    /molecules
    /organisms
    /templates
    /pages
  /hooks
  /services
  /store
  /utils
  /assets
  /styles
```

### **3.3 编码风格**

- 使用 Prettier + ESLint
- 单行最大长度 120
- JSX 属性换行对齐
- 函数式组件优先，尽量使用 Hooks
- 避免在组件内部直接修改 props 或全局状态

### **3.4 提交规范**

- Commit message 格式：

```
<type>(<scope>): <subject>

<body>

<footer>
```

- 
- 类型：
    - feat: 新功能
    - fix: 修复 bug
    - docs: 文档更新
    - style: 格式、空格、分号等
    - refactor: 重构代码
    - test: 测试相关
    - chore: 构建/依赖/工具更新

---

## **4. 组件说明**
**1. Atoms（原子）**

| **Atom 名称** | **类型** | **描述** | **交互/属性** |
| --- | --- | --- | --- |
| Button | 按钮 | 点击触发操作（如生成会议、加入会议） | 支持状态：默认、悬停、禁用 |
| InputField | 输入框 | 输入文本内容（会议码、会议标题、目标等） | 支持类型：text, email；可设置 placeholder |
| Label | 标签 | 提示文字或字段名称 | 静态展示 |
| Icon | 图标 | 图形化表示功能，如“加号”“搜索”“用户头像” | 可点击或仅展示 |
| Avatar | 头像 | 显示用户或发起人 | 可点击查看详情 |
| Checkbox | 复选框 | 选择或取消选项 | 支持选中/未选中状态 |
| Tag | 标签 | 状态或分类标识（如会议状态、模板类型） | 可点击筛选或仅展示 |
| TextArea | 多行文本框 | 输入较长文字，如会议目标、笔记 | 支持 placeholder、自动扩展 |
| Dropdown | 下拉框 | 选择单项或多项 | 可配置选项、默认值 |
| Tab | 标签页 | 切换不同内容模块 | 支持选中状态变化 |
| NotificationBadge | 通知角标 | 提示新消息或待办 | 显示数字或标记 |

**2. Molecules（分子）**

| **Molecule 名称** | **组成 Atoms** | **描述** |
| --- | --- | --- |
| QuickJoinForm | InputField + Button | 首页「快速加入会议」模块，用户输入会议码或链接并加入 |
| MeetingCreationForm | InputField（标题/目标） + Dropdown（模板选择） + Button（生成链接） | 会议创建页核心表单模块 |
| UserAvatarList | Avatar + Label | 显示参会人列表及名称 |
| MeetingListItem | Label + Tag + Button（查看/加入） | 最近会议列表条目 |
| NoteEditor | TextArea + Button（保存/提交） + Tag | 笔记模块，可标注组员 |
| FeedbackForm | TextArea + Button | 会后总结和反馈填写模块 |
| NotificationItem | Icon + Label + NotificationBadge | 用户中心通知条目 |

---

**3. Organisms（有机体）**

| **Organism 名称** | **组成 Molecules/Atoms** | **用途** |
| --- | --- | --- |
| TopNavBar | Button（登录/用户菜单） + Icon（logo） + Tab（导航） | 顶部导航栏，提供跨页面跳转与用户操作入口 |
| QuickJoinSection | QuickJoinForm + MeetingListItem | 首页快速加入会议区块 |
| MeetingTemplateSection | MeetingCreationForm + UserAvatarList | 会议创建页模板选择与参与人设定区块 |
| MeetingInfoSection | Label（名称/时间） + UserAvatarList + Tag | 会议大厅基本信息展示 |
| PreMeetingSection | NoteEditor + FileUpload + TextArea | 会前目标与资料收集 |
| InMeetingNotesSection | NoteEditor + Tag | 协作笔记区 |
| PostMeetingSummarySection | FeedbackForm + Button | 会后总结与报告生成 |
| PersonalCenterSection | MeetingListItem + NotificationItem | 用户个人中心内容展示 |

---

**4. Templates（模板）**

| **页面模板** | **组成 Organisms** | **描述** |
| --- | --- | --- |
| HomeTemplate | TopNavBar + QuickJoinSection | 首页布局，快速加入会议 + 最近会议列表 |
| MeetingCreationTemplate | TopNavBar + MeetingTemplateSection | 会议创建页布局，设置会议标题、模板、参会人 |
| MeetingLobbyTemplate | TopNavBar + Tab（基本信息/会前/会中/会后） + 对应 Organisms | 会议大厅布局，可切换不同功能区块 |
| PersonalCenterTemplate | TopNavBar + PersonalCenterSection | 用户个人中心，历史会议和通知管理 |

---

**5. Pages（页面）**

| **页面名称** | **使用模板** | **数据填充 & 逻辑** | **跳转** |
| --- | --- | --- | --- |
| 首页 | HomeTemplate | - 用户输入会议码 → 进入会议大厅- 最近会议列表填充用户历史会议 | 「发起会议」 → 会议创建页 |
| 会议创建页 | MeetingCreationTemplate | - 用户填写会议标题、选择模板、设置时间- 点击生成链接 → 分享给参会者 | 链接点击 → 会议大厅 |
| 会议大厅 | MeetingLobbyTemplate | - 显示会议基本信息、会前目标、协作笔记、会后总结- 支持标签切换 | 标签切换不同模块，提交反馈 → 自动生成报告 |
| 个人中心 | PersonalCenterTemplate | - 用户历史会议列表填充- 历史笔记和总结可查看- 通知和提醒显示 | 点击历史会议 → 会议大厅对应模块 |

---

**6. 技术交付建议**

- **Atoms**：基础组件，需支持样式可配置、状态可控，封装为 Button, InputField 等。
- **Molecules**：组合原子，提供 props 接口管理组合行为，如 QuickJoinForm 接收 onSubmit 回调。
- **Organisms**：封装页面功能块，管理内部状态和子组件，尽量避免直接暴露内部结构。
- **Templates**：页面骨架，可接收不同 Organisms 数据填充。
- **Pages**：具体页面，注入业务数据，绑定路由和导航逻辑。

## **5. 接口文档**

### **5.1 用户相关**

| **请求方式** | **URL** | **请求参数** | **返回字段** | **描述** |
| --- | --- | --- | --- | --- |
| GET | /api/user | userId | id, name, avatar, notifications | 获取用户信息 |
| POST | /api/user/login | email, password | token, user | 用户登录 |

### **5.2 会议相关**

| **请求方式** | **URL** | **请求参数** | **返回字段** | **描述** |
| --- | --- | --- | --- | --- |
| GET | /api/meeting/list | userId | meetings[] | 获取用户会议列表 |
| POST | /api/meeting/create | title, templateId, participants | meetingId, link | 创建会议 |
| GET | /api/meeting/:id | meetingId | title, time, voteline, participants,  | 获取会议概况 |
| POST | /api/meeting/:id | meetingId, … | success | 编辑会议概况 |
| GET | /api/meeting/:id/pre | meetingId | meeting objective, questions | 获取会前准备信息 |
| POST | /api/meeting/:id/pre | meetingId, … | success | 编辑会前准备信息 |
| GET | /api/meeting/:id/note | meetingId | noteContent[] | 获取会议笔记 |
| POST | /api/meeting/:id/note | authorId, noteContent, … | success | 添加会议笔记 |
| GET | /api/meeting/:id/post | meetingId | needbackContent[], summary | 获取会议反馈 |
| POST | /api/meeting/:id/post | meetingId, … | success | 提交会议反馈 |
| GET | /api/auth | Google account | success | 验证（使用 Firebase） |
| POST | /api/auth | Google account | success | 注册 |

### **5.3 错误码示例**

| **错误码** | **描述** | **处理方式** |
| --- | --- | --- |
| 400 | 参数错误 | 前端校验，提示用户 |
| 401 | 未授权 | 跳转登录 |
| 404 | 资源不存在 | 显示友好提示 |
| 500 | 服务器错误 | 重试或反馈给运维 |

---

## **6. 构建部署**

### **6.1 构建流程**

1. 安装依赖：pnpm install / npm install
2. 本地开发：pnpm dev / npm run dev
3. 构建生产包：pnpm build / npm run build
4. 生成静态文件：dist/ 或 build/

### **6.3 环境变量说明**

| **变量名** | **描述** | **默认值** |
| --- | --- | --- |
| VITE_API_BASE_URL | 后端 API 地址 | /api |
| VITE_ENV | 环境标识 | development / production |

---

## **7. 常见问题**

| **问题** | **解决方案 / 最佳实践** |
| --- | --- |
| 组件样式冲突 | 使用 TailwindCSS 或 CSS Modules，限制全局样式污染 |
| 状态同步复杂 | 使用 Zustand，避免父子多层传 props |
| 异步请求失败 | Axios 拦截器统一处理错误，重试机制或提示用户 |
| 路由刷新丢失状态 | 使用 Zustand 持久化或 localStorage |
| 表单重复提交 | Button 设置 disabled 状态，或使用 loading 状态控制 |

---

## **8. 附录**

### **8.1 术语解释**

- **Atomic Design**：原子设计方法，将 UI 拆分为 Atoms → Molecules → Organisms → Templates → Pages
- **Atoms（原子）**：最小 UI 单元，如按钮、输入框
- **Molecules（分子）**：由原子组合的功能模块
- **Organisms（有机体）**：组合 Molecules 的功能区块
- **Templates（模板）**：页面骨架
- **Pages（页面）**：具体页面，绑定路由和业务数据

### **8.2 其他参考资料**

- [Atomic Design 官方文档](http://atomicdesign.bradfrost.com/)
- [React 官方文档](https://react.dev/)
- [Redux Toolkit 文档](https://redux-toolkit.js.org/)
- [TailwindCSS 文档](https://tailwindcss.com/docs)
- [shadcn/ui 组件库](https://ui.shadcn.com/)